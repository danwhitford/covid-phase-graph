(this["webpackJsonpcovid-phase-chart"]=this["webpackJsonpcovid-phase-chart"]||[]).push([[0],{20:function(e,t,a){},25:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(2),i=a.n(s),r=(a(20),a(4)),o=a(3),d=a(9),l=a(8),u=a.n(l),b=a(12),h=a(13),p=a.n(h),j=a(14),v=a.n(j),f=a(15),x=a.n(f),y=new Map,O=function(e,t){if(y.has("".concat(e,":").concat(t)))return y.get("".concat(e,":").concat(t));var a={areaName:"areaName",date:"date",newAdmissions:e,covidOccupiedMVBeds:t},n="structure=".concat(encodeURI(JSON.stringify(a))),c="".concat("https://api.coronavirus.data.gov.uk/v1/data","?").concat("filters=areaType=overview","&").concat(n);return console.log("url:",c),x()(c).then((function(e){return e.json()})).then((function(a){return y.set("".concat(e,":").concat(t),a),a}))},m=a(1);function g(){return(g=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.x.value,t.y.value);case 2:return a=e.sent,e.abrupt("return",a.data.sort((function(e,t){return new Date(e.date)-new Date(t.date)})).map((function(e){return{x:e.newAdmissions,y:e.covidOccupiedMVBeds,date:e.date}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=e.axesDims,a=Object(n.useState)([]),c=Object(o.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)(void 0),d=Object(o.a)(r,2),l=d[0],u=d[1];return Object(n.useEffect)((function(){(function(e){return g.apply(this,arguments)})(t).then((function(e){return i(e)}))}),[t]),Object(n.useEffect)((function(){var e=document.getElementById("myChart"),a=new p.a(e,{type:"scatter",options:{scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:t.x.label}}],yAxes:[{type:"linear",position:"left",scaleLabel:{display:!0,labelString:t.y.label}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].data[e.index];return[a.date,"(".concat(a.x,", ").concat(a.y,")")]}}},legend:{display:!1}}});u(a)}),[]),Object(n.useEffect)((function(){l&&(l.data={datasets:[{data:s,backgroundColor:function(e){return v.a.scale(["#fee8c8","#e34a33"]).mode("lab").colors(e.dataset.data.length)[e.dataIndex]}}]},l.update())}),[s,l]),Object(m.jsx)("div",{className:"chart-container",style:{width:"60%"},children:Object(m.jsx)("canvas",{id:"myChart",width:"400",height:"400"})})},D=(a(25),[{value:"newAdmissions",label:"New admissions"},{value:"covidOccupiedMVBeds",label:"COVID-19 occupied beds with mechanical ventilators"},{value:"newCasesByPublishDate",label:"New cases by publication date"},{value:"newCasesBySpecimenDate",label:"New cases by specimen date"},{value:"newDeaths28DaysByPublishDate",label:"New deaths within 28 days of a positive test"},{value:"newDeaths28DaysByDeathDate",label:"New deaths within 28 days of a positive test by death date (very spiky)"}]);var C=function(){var e=Object(n.useState)({x:D[0],y:D[1]}),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(w,{axesDims:a}),Object(m.jsx)("div",{className:"SelectContainer",children:Object(m.jsxs)("label",{children:["X axis dimension",Object(m.jsx)(d.a,{value:a.x,options:D,onChange:function(e){c(Object(r.a)(Object(r.a)({},a),{},{x:e}))}})]})}),Object(m.jsx)("div",{className:"SelectContainer",children:Object(m.jsxs)("label",{children:["Y axis dimension",Object(m.jsx)(d.a,{value:a.y,options:D,onChange:function(e){c(Object(r.a)(Object(r.a)({},a),{},{y:e}))}})]})}),Object(m.jsx)("p",{children:"Colours represent time with earlier entries being lighter and later entries darker"}),Object(m.jsx)("div",{style:{height:"30px",width:"300px",backgroundImage:"linear-gradient(to right, #fee8c8, #e34a33)"}}),Object(m.jsxs)("p",{children:["Data is taken from the ",Object(m.jsx)("a",{href:"https://coronavirus.data.gov.uk/",children:"Gov.Uk COVID dashboard"}),", via ",Object(m.jsx)("a",{href:"https://coronavirus.data.gov.uk/details/developers-guide",children:"the API"})]})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,42)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),k()}},[[41,1,2]]]);
//# sourceMappingURL=main.c672181c.chunk.js.map